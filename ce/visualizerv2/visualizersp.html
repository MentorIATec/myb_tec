<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calendario de Eventos - Consejer√≠a Emocional</title>
    <style>
        /* Variables y estilos base */
        :root {
            --primary: #0072CE;
            --primary-dark: #004b7f;
            --primary-light: #e0f0ff;
            --secondary: #71C5E8;
            --accent: #FF5800;
            --accent-secondary: #ffda6a;
            --light: #F5F5F5;
            --dark: #252525;
            --success: #4CAF50;
            --warning: #FFC107;
            --danger: #F44336;
            --purple: #9C27B0;
            --teal: #009688;
            --orange: #FF9800;
            --card-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            --transition-normal: all 0.3s ease;
            
            /* Colores para categor√≠as */
            --color-curso: #0072CE;
            --color-taller: #FF5800;
            --color-grupo: #9C27B0;
            --color-activacion: #009688;
            --color-evento: #FF9800;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: var(--light);
            color: var(--dark);
            line-height: 1.6;
        }

        /* Contenedor principal */
        .eventos-container {
            max-width: 1200px;
            margin: 30px auto;
            padding: 0 20px;
        }

        /* Encabezado */
        .eventos-header {
            margin-bottom: 30px;
            text-align: center;
        }

        .eventos-title {
            color: var(--primary-dark);
            font-size: 32px;
            margin-bottom: 15px;
            position: relative;
            padding-bottom: 15px;
            display: inline-block;
        }

        .eventos-title::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 3px;
            background-color: var(--accent);
            border-radius: 3px;
        }

        .eventos-description {
            max-width: 800px;
            margin: 0 auto;
            color: #555;
        }

        /* Controles de calendario y b√∫squeda */
        .vista-selector {
            display: flex;
            justify-content: center;
            margin-bottom: 25px;
            gap: 15px;
        }

        .vista-btn {
            background: white;
            border: 2px solid var(--primary);
            color: var(--primary);
            padding: 8px 20px;
            border-radius: 30px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition-normal);
            font-size: 15px;
        }

        .vista-btn.active {
            background: var(--primary);
            color: white;
        }

        .vista-btn:hover:not(.active) {
            background: rgba(0, 114, 206, 0.1);
        }

        .controles-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .controles-izquierda {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .mes-selector {
            display: flex;
            align-items: center;
            position: relative;
        }

        .mes-actual {
            font-size: 18px;
            font-weight: 600;
            color: var(--primary-dark);
            margin: 0 15px;
            min-width: 160px;
            text-align: center;
        }

        .mes-nav {
            width: 36px;
            height: 36px;
            background: white;
            border: 1px solid #ddd;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition-normal);
            color: var(--primary);
            font-size: 18px;
        }

        .mes-nav:hover {
            background: var(--primary-light);
            border-color: var(--primary);
        }

        .mes-nav:active {
            transform: scale(0.95);
        }

        .hoy-btn {
            background: var(--accent);
            color: white;
            border: none;
            border-radius: 20px;
            padding: 6px 15px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            margin-left: 15px;
            transition: all 0.3s ease;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .hoy-btn:hover, .hoy-btn:focus {
            background: #e05000;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.15);
        }

        .controles-derecha {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        /* Buscador */
        .eventos-search {
            position: relative;
            max-width: 300px;
            width: 100%;
        }

        .search-input {
            width: 100%;
            padding: 10px 15px 10px 40px;
            border: 1px solid #ddd;
            border-radius: 30px;
            font-size: 14px;
            transition: var(--transition-normal);
            background-color: white;
        }

        .search-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(0, 114, 206, 0.1);
        }

        .search-icon {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: #777;
            font-size: 16px;
        }

        /* Filtros */
        .filtros-container {
            background: white;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 25px;
            box-shadow: var(--card-shadow);
        }

        .filtros-title {
            font-size: 16px;
            color: var(--primary-dark);
            margin-bottom: 15px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .categorias-container {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .categoria-tag {
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 6px;
            cursor: pointer;
            transition: var(--transition-normal);
            border: 2px solid transparent;
        }

        .categoria-tag.active {
            border-color: currentColor;
        }

        .categoria-tag.todos {
            background-color: #f0f0f0;
            color: #666;
        }

        .categoria-tag.curso {
            background-color: rgba(0, 114, 206, 0.1);
            color: var(--color-curso);
        }

        .categoria-tag.taller {
            background-color: rgba(255, 88, 0, 0.1);
            color: var(--color-taller);
        }

        .categoria-tag.grupo {
            background-color: rgba(156, 39, 176, 0.1);
            color: var(--color-grupo);
        }

        .categoria-tag.activacion {
            background-color: rgba(0, 150, 136, 0.1);
            color: var(--color-activacion);
        }

        .categoria-tag.evento {
            background-color: rgba(255, 152, 0, 0.1);
            color: var(--color-evento);
        }

        /* Calendario */
        .calendario-container {
            background: white;
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 30px;
            box-shadow: var(--card-shadow);
        }

        .calendario-header {
            background: var(--primary);
            color: white;
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            padding: 12px;
        }

        .dia-semana {
            text-align: center;
            font-weight: 600;
            font-size: 14px;
        }

        .calendario-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            border-top: 1px solid #eee;
            transition: opacity 0.3s ease;
        }

        .dia-container {
            min-height: 100px;
            border-right: 1px solid #eee;
            border-bottom: 1px solid #eee;
            padding: 8px;
            position: relative;
            cursor: pointer;
            transition: transform 0.2s ease, opacity 0.2s ease, background-color 0.2s ease;
        }

        .dia-container:nth-child(7n) {
            border-right: none;
        }

        .dia-container:hover {
            background-color: #f9f9f9;
        }

        .dia-container:active {
            transform: scale(0.95);
        }

        .dia-container.has-eventos {
            background-color: var(--primary-light);
        }

        .dia-container.otro-mes {
            background-color: #f5f5f5;
            color: #aaa;
        }

        .dia-container.seleccionado {
            background-color: rgba(0, 114, 206, 0.15);
            border: 2px solid var(--primary);
        }

        .dia-container.hoy {
            background-color: rgba(255, 88, 0, 0.05);
        }

        .dia-numero {
            font-size: 14px;
            font-weight: 600;
            text-align: center;
            margin-bottom: 6px;
            position: relative;
        }

        .dia-container.hoy .dia-numero::after {
            content: '';
            position: absolute;
            top: -5px;
            right: -5px;
            width: 8px;
            height: 8px;
            background-color: var(--accent);
            border-radius: 50%;
        }

        .dia-indicadores {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 3px;
        }

        .dia-indicador {
            width: 6px;
            height: 6px;
            border-radius: 50%;
        }

        .dia-indicador.curso {
            background-color: var(--color-curso);
        }

        .dia-indicador.taller {
            background-color: var(--color-taller);
        }

        .dia-indicador.grupo {
            background-color: var(--color-grupo);
        }

        .dia-indicador.activacion {
            background-color: var(--color-activacion);
        }

        .dia-indicador.evento {
            background-color: var(--color-evento);
        }

        /* Lista de eventos */
        .eventos-list-container {
            margin-bottom: 30px;
        }

        .eventos-list-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .eventos-list-title {
            font-size: 18px;
            color: var(--primary-dark);
            font-weight: 600;
        }

        .eventos-counter {
            background: var(--primary-light);
            color: var(--primary);
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 500;
        }

        .eventos-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }

        .evento-card {
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: var(--card-shadow);
            transition: transform 0.3s ease;
            border-top: 4px solid var(--primary);
            display: flex;
            flex-direction: column;
            height: 100%;
        }

        .evento-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
        }

        .evento-card.curso {
            border-top-color: var(--color-curso);
        }

        .evento-card.taller {
            border-top-color: var(--color-taller);
        }

        .evento-card.grupo {
            border-top-color: var(--color-grupo);
        }

        .evento-card.activacion {
            border-top-color: var(--color-activacion);
        }

        .evento-card.evento {
            border-top-color: var(--color-evento);
        }

        .evento-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            padding: 4px 10px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: 600;
            color: white;
            z-index: 1;
        }

        .evento-badge.curso {
            background-color: var(--color-curso);
        }

        .evento-badge.taller {
            background-color: var(--color-taller);
        }

        .evento-badge.grupo {
            background-color: var(--color-grupo);
        }

        .evento-badge.activacion {
            background-color: var(--color-activacion);
        }

        .evento-badge.evento {
            background-color: var(--color-evento);
        }

        .evento-header {
            padding: 20px;
            position: relative;
        }

        .evento-title {
            font-size: 18px;
            font-weight: 600;
            color: var(--primary-dark);
            margin-bottom: 12px;
            padding-right: 60px;
            line-height: 1.3;
        }

        .evento-meta {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 5px;
        }

        .evento-meta-item {
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 13px;
            color: #666;
        }

        .meta-icon {
            color: var(--primary);
            font-size: 14px;
        }

        .evento-content {
            padding: 0 20px 20px;
            flex-grow: 1;
        }

        .evento-description {
            color: #555;
            font-size: 14px;
            line-height: 1.5;
            margin-bottom: 15px;
        }

        .evento-details {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 15px;
        }

        .evento-detail {
            background: #f0f7ff;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 12px;
            color: var(--primary);
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .detail-icon {
            font-size: 14px;
        }

        .evento-footer {
            padding: 15px 20px;
            background: #f7f9fc;
            border-top: 1px solid #eee;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .evento-status {
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 13px;
            font-weight: 500;
        }

        .status-icon {
            font-size: 15px;
        }

        .status-available {
            color: var(--success);
        }

        .status-limited {
            color: var(--warning);
        }

        .status-full {
            color: var(--danger);
        }

        .evento-action {
            text-decoration: none;
            background: var(--primary);
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 600;
            transition: var(--transition-normal);
            display: inline-flex;
            align-items: center;
            gap: 5px;
        }

        .evento-action:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
        }

        .evento-action.disabled {
            background: #ccc;
            cursor: not-allowed;
            pointer-events: none;
        }

        /* Modal de detalle del d√≠a */
        .dia-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0,0,0,0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .dia-modal-content {
            background: white;
            border-radius: 15px;
            max-width: 500px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            box-shadow: 0 15px 30px rgba(0,0,0,0.2);
        }

        .dia-modal-header {
            padding: 20px;
            background: var(--primary);
            color: white;
            border-radius: 15px 15px 0 0;
            position: relative;
        }

        .dia-modal-title {
            font-size: 18px;
            font-weight: 600;
            margin-right: 30px;
        }

        .dia-modal-close {
            position: absolute;
            top: 15px;
            right: 15px;
            width: 30px;
            height: 30px;
            background: rgba(255,255,255,0.2);
            border: none;
            border-radius: 50%;
            color: white;
            font-size: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition-normal);
        }

        .dia-modal-close:hover {
            background: rgba(255,255,255,0.3);
        }

        .dia-modal-body {
            padding: 20px;
        }

        .dia-eventos-lista {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .dia-evento-item {
            background: #f7f9fc;
            border-radius: 8px;
            padding: 15px;
            border-left: 4px solid var(--primary);
            transition: var(--transition-normal);
            cursor: pointer;
        }

        .dia-evento-item:hover {
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            transform: translateY(-2px);
        }

        .dia-evento-item.curso {
            border-left-color: var(--color-curso);
        }

        .dia-evento-item.taller {
            border-left-color: var(--color-taller);
        }

        .dia-evento-item.grupo {
            border-left-color: var(--color-grupo);
        }

        .dia-evento-item.activacion {
            border-left-color: var(--color-activacion);
        }

        .dia-evento-item.evento {
            border-left-color: var(--color-evento);
        }

        .dia-evento-hora {
            font-size: 12px;
            color: #666;
            margin-bottom: 5px;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .dia-evento-titulo {
            font-size: 15px;
            font-weight: 600;
            color: var(--dark);
            margin-bottom: 5px;
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
        }

        .dia-evento-cat {
            font-size: 11px;
            padding: 2px 8px;
            border-radius: 10px;
            color: white;
        }

        .dia-evento-cat.curso {
            background-color: var(--color-curso);
        }

        .dia-evento-cat.taller {
            background-color: var(--color-taller);
        }

        .dia-evento-cat.grupo {
            background-color: var(--color-grupo);
        }

        .dia-evento-cat.activacion {
            background-color: var(--color-activacion);
        }

        .dia-evento-cat.evento {
            background-color: var(--color-evento);
        }

        .dia-evento-ubicacion {
            font-size: 12px;
            color: #666;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        /* Modal de evento */
        .evento-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0,0,0,0.5);
            z-index: 1000;
            overflow-y: auto;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .evento-modal-content {
            background: white;
            border-radius: 15px;
            max-width: 800px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            box-shadow: 0 15px 30px rgba(0,0,0,0.2);
        }

        .evento-modal-header {
            position: relative;
            padding: 30px;
            border-bottom: 1px solid #eee;
        }

        .evento-modal-title {
            font-size: 24px;
            color: var(--primary-dark);
            margin-bottom: 5px;
            padding-right: 30px;
        }

        .evento-modal-subtitle {
            color: #666;
            font-size: 14px;
        }

        .evento-modal-close {
            position: absolute;
            top: 20px;
            right: 20px;
            background: none;
            border: none;
            color: #666;
            font-size: 24px;
            cursor: pointer;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.3s ease;
        }

        .evento-modal-close:hover {
            background: rgba(0,0,0,0.05);
            color: var(--primary-dark);
        }

        .evento-modal-body {
            padding: 30px;
        }

        .evento-modal-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .info-item {
            background: #f7f9fc;
            padding: 15px;
            border-radius: 10px;
        }

        .info-label {
            font-size: 13px;
            color: #666;
            margin-bottom: 5px;
        }

        .info-value {
            font-size: 16px;
            font-weight: 500;
            color: var(--primary-dark);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .info-icon {
            color: var(--primary);
            font-size: 18px;
        }

        .evento-modal-description {
            margin-bottom: 30px;
        }

        .description-title {
            font-size: 18px;
            color: var(--primary-dark);
            margin-bottom: 15px;
        }

        .description-content {
            color: #444;
            line-height: 1.7;
        }

        .evento-modal-footer {
            padding: 20px 30px;
            background: #f7f9fc;
            border-top: 1px solid #eee;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-radius: 0 0 15px 15px;
        }

        .evento-modal-status {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
            font-weight: 500;
        }

        .evento-modal-action {
            display: inline-block;
            background: var(--primary);
            color: white;
            padding: 12px 25px;
            border-radius: 30px;
            font-weight: 600;
            text-decoration: none;
            transition: all 0.3s ease;
            font-size: 16px;
        }

        .evento-modal-action:hover {
            background: var(--primary-dark);
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        /* Estados de carga y mensajes */
        .eventos-message {
            grid-column: 1 / -1;
            padding: 40px;
            text-align: center;
            color: #666;
            background: #f9f9f9;
            border-radius: 10px;
        }

        .loader-spinner {
            display: inline-block;
            width: 50px;
            height: 50px;
            border: 5px solid rgba(0, 114, 206, 0.2);
            border-top: 5px solid var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Vista compacta (solo calendario o solo eventos) */
        .vista-compacta .eventos-grid {
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
        }

        /* Leyenda de colores */
        .leyenda-container {
            background: white;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 25px;
            box-shadow: var(--card-shadow);
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: center;
        }

        .leyenda-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
            color: #666;
        }

        .leyenda-color {
            width: 14px;
            height: 14px;
            border-radius: 50%;
        }

        .leyenda-color.curso {
            background-color: var(--color-curso);
        }

        .leyenda-color.taller {
            background-color: var(--color-taller);
        }

        .leyenda-color.grupo {
            background-color: var(--color-grupo);
        }

        .leyenda-color.activacion {
            background-color: var(--color-activacion);
        }

        .leyenda-color.evento {
            background-color: var(--color-evento);
        }

        /* Responsive para tablets */
        @media (max-width: 992px) {
            .controles-container {
                flex-direction: column;
                align-items: stretch;
            }

            .controles-izquierda,
            .controles-derecha {
                width: 100%;
                justify-content: center;
            }

            .dia-container {
                min-height: 80px;
            }
        }

        /* Responsive para m√≥viles */
        @media (max-width: 768px) {
            .eventos-container {
                padding: 10px;
                margin: 10px auto;
            }
            
            .eventos-title {
                font-size: 24px;
                margin-bottom: 8px;
                padding-bottom: 8px;
            }
            
            .eventos-description {
                font-size: 14px;
                line-height: 1.4;
                margin-bottom: 10px;
            }
            
            .vista-selector {
                gap: 5px;
                margin-bottom: 15px;
            }
            
            .vista-btn {
                padding: 6px 12px;
                font-size: 13px;
            }
            
            .filtros-container {
                padding: 10px;
                margin-bottom: 15px;
            }
            
            .filtros-title {
                font-size: 14px;
                margin-bottom: 8px;
            }
            
            .categorias-container {
                gap: 5px;
                flex-wrap: nowrap;
                overflow-x: auto;
                padding-bottom: 8px;
                scrollbar-width: thin;
            }
            
            .categoria-tag {
                padding: 6px 10px;
                font-size: 12px;
                white-space: nowrap;
            }

            .mes-actual {
                font-size: 16px;
                min-width: 120px;
            }

            .dia-semana {
                font-size: 12px;
            }

            .dia-container {
                min-height: 60px;
                padding: 5px;
            }

            .dia-numero {
                font-size: 12px;
                margin-bottom: 3px;
            }

            .evento-card {
                width: 100%;
            }

            .evento-header {
                padding: 15px;
            }

            .evento-title {
                font-size: 16px;
                padding-right: 50px;
            }

            .evento-content {
                padding: 0 15px 15px;
            }

            .evento-modal-content,
            .dia-modal-content {
                width: 95%;
            }

            .evento-modal-info {
                grid-template-columns: 1fr;
            }

            .eventos-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 576px) {
            .calendario-header {
                padding: 8px 5px;
            }

            .dia-container {
                min-height: 50px;
            }

            .vista-selector {
                flex-direction: column;
                align-items: center;
            }

            .vista-btn {
                width: 100%;
                text-align: center;
            }
            
            .dia-indicadores {
                display: flex;
                gap: 1px;
            }
            
            .dia-indicador {
                width: 4px;
                height: 4px;
            }

            .categorias-container {
                justify-content: center;
            }
        }

        /* Clase de ayuda para lectores de pantalla */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border-width: 0;
        }
    </style>
</head>
<body>
    <div class="eventos-container">
        <div class="eventos-header">
            <h2 class="eventos-title">Eventos y Talleres</h2>
            <p class="eventos-description">Explora nuestra amplia oferta de actividades dise√±adas para apoyarte en diferentes aspectos de tu desarrollo personal y bienestar emocional.</p>
        </div>

        <!-- Selector de vista -->
        <div class="vista-selector">
            <button class="vista-btn active" data-vista="combinada">Vista Combinada</button>
            <button class="vista-btn" data-vista="calendario">Solo Calendario</button>
            <button class="vista-btn" data-vista="eventos">Solo Eventos</button>
        </div>

        <!-- Controles de fecha y b√∫squeda -->
        <div class="controles-container">
            <div class="controles-izquierda">
                <div class="mes-selector">
                    <button class="mes-nav" id="mes-anterior">‚óÄ</button>
                    <div class="mes-actual" id="mes-actual">Marzo 2025</div>
                    <button class="mes-nav" id="mes-siguiente">‚ñ∂</button>
                    <button class="hoy-btn" id="hoy-btn">Hoy</button>
                </div>
            </div>
            <div class="controles-derecha">
                <div class="eventos-search">
                    <span class="search-icon">üîç</span>
                    <input type="text" class="search-input" id="search-input" placeholder="Buscar eventos...">
                </div>
            </div>
        </div>

        <!-- Filtros de categor√≠as -->
        <div class="filtros-container">
            <h3 class="filtros-title">
                <span>üìã</span> Filtrar por categor√≠a
            </h3>
            <div class="categorias-container" id="categorias-container">
                <div class="categoria-tag todos active" data-categoria="todos">
                    <span>Todos</span>
                </div>
                <div class="categoria-tag curso" data-categoria="curso">
                    <span>Cursos</span>
                </div>
                <div class="categoria-tag taller" data-categoria="taller">
                    <span>Talleres</span>
                </div>
                <div class="categoria-tag grupo" data-categoria="grupo">
                    <span>Grupos</span>
                </div>
                <div class="categoria-tag activacion" data-categoria="activacion">
                    <span>Activaciones</span>
                </div>
                <div class="categoria-tag evento" data-categoria="evento">
                    <span>Eventos</span>
                </div>
            </div>
        </div>

        <!-- Secci√≥n de calendario -->
        <div class="calendario-container" id="calendario-container">
            <div class="calendario-header">
                <div class="dia-semana">Dom</div>
                <div class="dia-semana">Lun</div>
                <div class="dia-semana">Mar</div>
                <div class="dia-semana">Mi√©</div>
                <div class="dia-semana">Jue</div>
                <div class="dia-semana">Vie</div>
                <div class="dia-semana">S√°b</div>
            </div>
            <div class="calendario-grid" id="calendario-grid">
                <div class="eventos-message">
                    <div class="loader-spinner"></div>
                    <p>Cargando calendario...</p>
                </div>
            </div>
        </div>

        <!-- Leyenda de colores -->
        <div class="leyenda-container">
            <div class="leyenda-item">
                <div class="leyenda-color curso"></div>
                <span>Cursos</span>
            </div>
            <div class="leyenda-item">
                <div class="leyenda-color taller"></div>
                <span>Talleres</span>
            </div>
            <div class="leyenda-item">
                <div class="leyenda-color grupo"></div>
                <span>Grupos</span>
            </div>
            <div class="leyenda-item">
                <div class="leyenda-color activacion"></div>
                <span>Activaciones</span>
            </div>
            <div class="leyenda-item">
                <div class="leyenda-color evento"></div>
                <span>Eventos</span>
            </div>
        </div>

        <!-- Lista de eventos -->
        <div class="eventos-list-container" id="eventos-list-container">
            <div class="eventos-list-header">
                <h3 class="eventos-list-title">Eventos pr√≥ximos</h3>
                <div class="eventos-counter" id="eventos-counter">0 eventos</div>
            </div>
            <div class="eventos-grid" id="eventos-grid">
                <div class="eventos-message">
                    <div class="loader-spinner"></div>
                    <p>Cargando eventos...</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal para ver eventos de un d√≠a espec√≠fico -->
    <div class="dia-modal" id="dia-modal">
        <div class="dia-modal-content">
            <div class="dia-modal-header">
                <h3 class="dia-modal-title" id="dia-modal-title">Eventos para el 25 de Marzo</h3>
                <button class="dia-modal-close" id="dia-modal-close">&times;</button>
            </div>
            <div class="dia-modal-body">
                <div class="dia-eventos-lista" id="dia-eventos-lista">
                    <!-- Aqu√≠ se cargar√°n los eventos del d√≠a seleccionado -->
                </div>
            </div>
        </div>
    </div>

    <!-- Modal para detalles de evento -->
    <div class="evento-modal" id="evento-modal">
        <div class="evento-modal-content">
            <div class="evento-modal-header">
                <h2 class="evento-modal-title" id="evento-modal-title">T√≠tulo del evento</h2>
                <p class="evento-modal-subtitle" id="evento-modal-subtitle">Categor√≠a ‚Ä¢ Duraci√≥n</p>
                <button class="evento-modal-close" id="evento-modal-close">&times;</button>
            </div>
            <div class="evento-modal-body">
                <div class="evento-modal-info" id="evento-modal-info">
                    <!-- Aqu√≠ se cargar√°n los detalles del evento -->
                </div>
                <div class="evento-modal-description">
                    <h3 class="description-title">Descripci√≥n</h3>
                    <div class="description-content" id="evento-modal-description">
                        <!-- Aqu√≠ se cargar√° la descripci√≥n completa -->
                    </div>
                </div>
            </div>
            <div class="evento-modal-footer">
                <div class="evento-modal-status" id="evento-modal-status">
                    <span class="status-icon status-available">‚óè</span>
                    <span>Cupos disponibles</span>
                </div>
                <a href="#" class="evento-modal-action" id="evento-modal-action" target="_blank">Inscribirme</a>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Configuraci√≥n
            const jsonUrl = 'https://karenguzmn.github.io/myb_tec/ce/eventos.json'; // URL del archivo JSON
            
            // Variables de estado
            let allEventos = [];
            let filteredEventos = [];
            let fechaActual = new Date();
            let mesActual = fechaActual.getMonth();
            let anioActual = fechaActual.getFullYear();
            let categoriaSeleccionada = 'todos';
            let diaSeleccionado = null;
            let vistaActual = 'combinada';
            let searchQuery = '';
            
            // Elementos DOM
            const mesAnteriorBtn = document.getElementById('mes-anterior');
            const mesSiguienteBtn = document.getElementById('mes-siguiente');
            const hoyBtn = document.getElementById('hoy-btn');
            const mesActualEl = document.getElementById('mes-actual');
            const calendarioGrid = document.getElementById('calendario-grid');
            const eventosGrid = document.getElementById('eventos-grid');
            const eventosCounter = document.getElementById('eventos-counter');
            const categoriasContainer = document.getElementById('categorias-container');
            const searchInput = document.getElementById('search-input');
            const calendarioContainer = document.getElementById('calendario-container');
            const eventosListContainer = document.getElementById('eventos-list-container');
            const vistaBtns = document.querySelectorAll('.vista-btn');
            
            // Modales
            const diaModal = document.getElementById('dia-modal');
            const diaModalTitle = document.getElementById('dia-modal-title');
            const diaModalClose = document.getElementById('dia-modal-close');
            const diaEventosLista = document.getElementById('dia-eventos-lista');
            
            const eventoModal = document.getElementById('evento-modal');
            const eventoModalTitle = document.getElementById('evento-modal-title');
            const eventoModalSubtitle = document.getElementById('evento-modal-subtitle');
            const eventoModalInfo = document.getElementById('evento-modal-info');
            const eventoModalDescription = document.getElementById('evento-modal-description');
            const eventoModalStatus = document.getElementById('evento-modal-status');
            const eventoModalAction = document.getElementById('evento-modal-action');
            const eventoModalClose = document.getElementById('evento-modal-close');
            
            // Meses en espa√±ol
            const meses = [
                'Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio',
                'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'
            ];
            
            // D√≠as en espa√±ol
            const diasSemana = [
                'Domingo', 'Lunes', 'Martes', 'Mi√©rcoles', 'Jueves', 'Viernes', 'S√°bado'
            ];
            
            // Funci√≥n para cargar eventos del JSON
            function cargarEventos() {
                fetch(jsonUrl)
                    .then(response => {
                        if (!response.ok) {
                            throw new Error('No se pudo cargar el archivo de eventos');
                        }
                        return response.json();
                    })
                    .then(data => {
                        // Guardar todos los eventos
                        allEventos = data.eventos || [];
                        
                        // Formatear las fechas a objetos Date
                        allEventos.forEach(evento => {
                            // Convertir fechas a objetos Date
                            evento.fechaInicioObj = parsearFecha(evento.fechaInicio);
                            evento.fechaFinObj = parsearFecha(evento.fechaFin || evento.fechaInicio);
                            
                            // Normalizar categor√≠as
                            evento.categoria = normalizarCategoria(evento.categoria);
                        });
                        
                        // Ordenar eventos por fecha
                        allEventos.sort((a, b) => {
                            if (!a.fechaInicioObj || !b.fechaInicioObj) return 0;
                            return a.fechaInicioObj - b.fechaInicioObj;
                        });
                        
                        // Inicializar visualizaci√≥n
                        filteredEventos = [...allEventos];
                        actualizarMesActual();
                        generarCalendario();
                        mostrarEventos();
                        
                        // Si hay eventos para el d√≠a actual, seleccionarlo
                        const hoy = new Date();
                        const eventosHoy = obtenerEventosPorFecha(hoy);
                        if (eventosHoy.length > 0) {
                            seleccionarDia(hoy);
                        }
                    })
                    .catch(error => {
                        console.error('Error al cargar eventos:', error);
                        calendarioGrid.innerHTML = `
                            <div class="eventos-message">
                                Error al cargar el calendario. Por favor, intenta m√°s tarde.
                            </div>
                        `;
                        eventosGrid.innerHTML = `
                            <div class="eventos-message">
                                Error al cargar eventos. Por favor, intenta m√°s tarde.
                            </div>
                        `;
                    });
            }
            
            // Funci√≥n para parsear fechas desde diferentes formatos 
            function parsearFecha(fechaStr) {
                if (!fechaStr) return null;
                
                // Identificar el formato de fecha (DD/MM/YYYY)
                if (typeof fechaStr === 'string' && fechaStr.includes('/')) {
                    const partes = fechaStr.split('/');
                    if (partes.length === 3) {
                        // Crear fecha (formato com√∫n DD/MM/YYYY)
                        return new Date(
                            parseInt(partes[2]),      // a√±o
                            parseInt(partes[1]) - 1,  // mes (0-11)
                            parseInt(partes[0])       // d√≠a
                        );
                    }
                }
                
                // Si no se pudo parsear como DD/MM/YYYY, intentar convertir directamente
                const fecha = new Date(fechaStr);
                if (!isNaN(fecha.getTime())) {
                    return fecha;
                }
                
                return null;
            }
            
            // Funci√≥n para normalizar categor√≠as
            function normalizarCategoria(categoria) {
                if (!categoria) return 'otro';
                
                const cat = categoria.toLowerCase();
                
                if (cat.includes('taller')) return 'taller';
                if (cat.includes('curso')) return 'curso';
                if (cat.includes('grupo')) return 'grupo';
                if (cat.includes('activacion') || cat.includes('activaci√≥n')) return 'activacion';
                if (cat.includes('evento')) return 'evento';
                
                return 'otro';
            }
            
            // Funci√≥n para formatear fechas a formato legible
            function formatoFecha(fecha, incluirSemana = true) {
                if (!fecha) return 'Fecha por definir';
                
                if (!(fecha instanceof Date) || isNaN(fecha.getTime())) {
                    if (typeof fecha === 'string') {
                        fecha = parsearFecha(fecha);
                        if (!fecha) return 'Fecha inv√°lida';
                    } else {
                        return 'Fecha inv√°lida';
                    }
                }
                
                const opciones = incluirSemana ? 
                    { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' } : 
                    { year: 'numeric', month: 'long', day: 'numeric' };
                
                return fecha.toLocaleDateString('es-ES', opciones);
            }
            
            // Actualizar el t√≠tulo del mes actual
            function actualizarMesActual() {
                mesActualEl.textContent = `${meses[mesActual]} ${anioActual}`;
            }
            
            // Generar el calendario para el mes y a√±o seleccionados
            function generarCalendario() {
                calendarioGrid.innerHTML = '';
                
                // Primer d√≠a del mes
                const primerDia = new Date(anioActual, mesActual, 1);
                // √öltimo d√≠a del mes
                const ultimoDia = new Date(anioActual, mesActual + 1, 0).getDate();
                // D√≠a de la semana del primer d√≠a (0-domingo, 1-lunes, etc.)
                const primerDiaSemana = primerDia.getDay();
                
                // Si el primer d√≠a de la semana no es domingo, rellenar con d√≠as del mes anterior
                const ultimoDiaMesAnterior = new Date(anioActual, mesActual, 0).getDate();
                
                // D√≠as del mes anterior para completar la primera semana
                for (let i = primerDiaSemana - 1; i >= 0; i--) {
                    const diaAnterior = ultimoDiaMesAnterior - i;
                    const fechaDia = new Date(anioActual, mesActual - 1, diaAnterior);
                    crearCeldaDia(fechaDia, true);
                }
                
                // D√≠as del mes actual
                for (let dia = 1; dia <= ultimoDia; dia++) {
                    const fechaDia = new Date(anioActual, mesActual, dia);
                    crearCeldaDia(fechaDia, false);
                }
                
                // D√≠as del mes siguiente para completar la √∫ltima semana
                const ultimoDiaSemana = new Date(anioActual, mesActual, ultimoDia).getDay();
                if (ultimoDiaSemana < 6) {
                    for (let i = 1; i <= 6 - ultimoDiaSemana; i++) {
                        const fechaDia = new Date(anioActual, mesActual + 1, i);
                        crearCeldaDia(fechaDia, true);
                    }
                }
            }
            
            // Crear celda del d√≠a
            function crearCeldaDia(fecha, esOtroMes) {
                // Verificar si hay eventos para este d√≠a
                const eventosDelDia = obtenerEventosPorFecha(fecha);
                const tieneEventos = eventosDelDia.length > 0;
                
                // Verificar si es el d√≠a de hoy
                const hoy = new Date();
                const esHoy = fecha.getDate() === hoy.getDate() && 
                              fecha.getMonth() === hoy.getMonth() && 
                              fecha.getFullYear() === hoy.getFullYear();
                              
                // Verificar si es el d√≠a seleccionado
                const esSeleccionado = diaSeleccionado && 
                                      fecha.getDate() === diaSeleccionado.getDate() &&
                                      fecha.getMonth() === diaSeleccionado.getMonth() && 
                                      fecha.getFullYear() === diaSeleccionado.getFullYear();
                
                // Verificar si es fin de semana
                const esFinDeSemana = fecha.getDay() === 0 || fecha.getDay() === 6;
                
                // Crear elemento celda
                const diaEl = document.createElement('div');
                diaEl.className = 'dia-container';
                
                if (esOtroMes) diaEl.classList.add('otro-mes');
                if (tieneEventos) diaEl.classList.add('has-eventos');
                if (esHoy) diaEl.classList.add('hoy');
                if (esSeleccionado) diaEl.classList.add('seleccionado');
                if (esFinDeSemana) diaEl.classList.add('fin-de-semana');
                
                // Guardar fecha como atributo
                diaEl.setAttribute('data-fecha', `${fecha.getFullYear()}-${fecha.getMonth()+1}-${fecha.getDate()}`);
                
                // N√∫mero del d√≠a
                const numeroEl = document.createElement('div');
                numeroEl.className = 'dia-numero';
                numeroEl.textContent = fecha.getDate();
                diaEl.appendChild(numeroEl);
                
                // Si tiene eventos, mostrar indicadores
                if (tieneEventos) {
                    // Crear div para indicadores
                    const indicadoresEl = document.createElement('div');
                    indicadoresEl.className = 'dia-indicadores';
                    
                    // Agrupar eventos por categor√≠a
                    const categorias = new Set();
                    eventosDelDia.forEach(evento => {
                        categorias.add(evento.categoria);
                    });
                    
                    // Mostrar un indicador por cada categor√≠a √∫nica (max 4)
                    const categoriasArray = Array.from(categorias);
                    const maxIndicadores = Math.min(4, categoriasArray.length);
                    
                    for (let i = 0; i < maxIndicadores; i++) {
                        const indicadorEl = document.createElement('div');
                        indicadorEl.className = `dia-indicador ${categoriasArray[i]}`;
                        indicadoresEl.appendChild(indicadorEl);
                    }
                    
                    diaEl.appendChild(indicadoresEl);
                    
                    // Agregar evento click para mostrar eventos del d√≠a
                    diaEl.addEventListener('click', function() {
                        seleccionarDia(fecha);
                        mostrarEventosDia(fecha);
                    });
                }
                
                // A√±adir al calendario
                calendarioGrid.appendChild(diaEl);
            }
            
            // Obtener eventos para una fecha espec√≠fica
            function obtenerEventosPorFecha(fecha) {
                if (!fecha || !Array.isArray(filteredEventos)) return [];
                
                return filteredEventos.filter(evento => {
                    if (!evento.fechaInicioObj) return false;
                    
                    // Si es el mismo d√≠a
                    if (esMismaFecha(evento.fechaInicioObj, fecha)) return true;
                    
                    // Si es el √∫ltimo d√≠a
                    if (evento.fechaFinObj && esMismaFecha(evento.fechaFinObj, fecha)) return true;
                    
                    // Si est√° entre fecha inicio y fin
                    if (evento.fechaFinObj && 
                        evento.fechaInicioObj <= fecha && 
                        evento.fechaFinObj >= fecha) return true;
                    
                    return false;
                });
            }
            
            // Verificar si dos fechas son el mismo d√≠a
            function esMismaFecha(fecha1, fecha2) {
                if (!fecha1 || !fecha2) return false;
                
                return fecha1.getDate() === fecha2.getDate() &&
                       fecha1.getMonth() === fecha2.getMonth() &&
                       fecha1.getFullYear() === fecha2.getFullYear();
            }
            
            // Seleccionar un d√≠a
            function seleccionarDia(fecha) {
                // Eliminar selecci√≥n anterior
                const diaSeleccionadoEl = document.querySelector('.dia-container.seleccionado');
                if (diaSeleccionadoEl) {
                    diaSeleccionadoEl.classList.remove('seleccionado');
                }
                
                // Actualizar d√≠a seleccionado
                diaSeleccionado = new Date(fecha);
                
                // Seleccionar visualmente el d√≠a
                const fechaStr = `${fecha.getFullYear()}-${fecha.getMonth()+1}-${fecha.getDate()}`;
                const nuevoDiaEl = document.querySelector(`.dia-container[data-fecha="${fechaStr}"]`);
                if (nuevoDiaEl) {
                    nuevoDiaEl.classList.add('seleccionado');
                }
                
                // Actualizar lista de eventos
                mostrarEventos();
            }
            
            // Mostrar eventos en la lista principal
            function mostrarEventos() {
                // Aplicar filtros
                filtrarEventos();
                
                // Si hay d√≠a seleccionado, solo mostrar eventos de ese d√≠a
                let eventosAMostrar = filteredEventos;
                if (diaSeleccionado) {
                    eventosAMostrar = obtenerEventosPorFecha(diaSeleccionado);
                }
                
                // Actualizar contador
                eventosCounter.textContent = `${eventosAMostrar.length} ${eventosAMostrar.length === 1 ? 'evento' : 'eventos'}`;
                
                // Si no hay eventos
                if (eventosAMostrar.length === 0) {
                    eventosGrid.innerHTML = `
                        <div class="eventos-message">
                            No hay eventos para mostrar.
                            ${diaSeleccionado ? '<br><button id="limpiar-seleccion" style="margin-top:15px;padding:8px 15px;background:var(--primary);color:white;border:none;border-radius:20px;cursor:pointer;">Ver todos los eventos</button>' : ''}
                        </div>
                    `;
                    
                    // Bot√≥n para limpiar selecci√≥n
                    const limpiarBtn = document.getElementById('limpiar-seleccion');
                    if (limpiarBtn) {
                        limpiarBtn.addEventListener('click', limpiarSeleccionDia);
                    }
                    
                    return;
                }
                
                // Limpiar grid
                eventosGrid.innerHTML = '';
                
                // Ordenar eventos por fecha
                eventosAMostrar.sort((a, b) => {
                    // Si no tienen fecha, mantener el orden
                    if (!a.fechaInicioObj || !b.fechaInicioObj) return 0;
                    
                    // Ordenar por fecha de inicio
                    const compFecha = a.fechaInicioObj - b.fechaInicioObj;
                    if (compFecha !== 0) return compFecha;
                    
                    // Si tienen la misma fecha, ordenar por horario
                    return (a.horario || '').localeCompare(b.horario || '');
                });
                
                // Mostrar cada evento
                eventosAMostrar.forEach(evento => {
                    const eventoEl = document.createElement('div');
                    eventoEl.className = `evento-card ${evento.categoria}`;
                    
                    // Determinar disponibilidad
                    let estadoClase = 'status-available';
                    let estadoTexto = 'Cupos disponibles';
                    
                    if (evento.estado === 'limitado') {
                        estadoClase = 'status-limited';
                        estadoTexto = 'Pocos cupos disponibles';
                    } else if (evento.estado === 'lleno') {
                        estadoClase = 'status-full';
                        estadoTexto = 'Sin cupos disponibles';
                    }
                    
                    // Generar HTML del evento
                    eventoEl.innerHTML = `
                        <span class="evento-badge ${evento.categoria}">${capitalizarPrimera(evento.categoria)}</span>
                        <div class="evento-header">
                            <h3 class="evento-title">${evento.titulo}</h3>
                            <div class="evento-meta">
                                <div class="evento-meta-item">
                                    <span class="meta-icon">üìÖ</span>
                                    <span>${formatoFecha(evento.fechaInicioObj, false)}</span>
                                </div>
                                <div class="evento-meta-item">
                                    <span class="meta-icon">‚è±Ô∏è</span>
                                    <span>${evento.horario || 'Horario por definir'}</span>
                                </div>
                            </div>
                        </div>
                        <div class="evento-content">
                            <p class="evento-description">${truncarTexto(evento.descripcion, 120)}</p>
                            <div class="evento-details">
                                ${evento.duracion ? `
                                <div class="evento-detail">
                                    <span class="detail-icon">‚åõ</span>
                                    <span>${evento.duracion}</span>
                                </div>
                                ` : ''}
                                ${evento.ubicacion || evento.ubicaci√≥n ? `
                                <div class="evento-detail">
                                    <span class="detail-icon">üìç</span>
                                    <span>${evento.ubicacion || evento.ubicaci√≥n}</span>
                                </div>
                                ` : ''}
                                ${evento.modalidad ? `
                                <div class="evento-detail">
                                    <span class="detail-icon">${evento.modalidad === 'Presencial' ? 'üè¢' : 'üíª'}</span>
                                    <span>${evento.modalidad}</span>
                                </div>
                                ` : ''}
                            </div>
                        </div>
                        <div class="evento-footer">
                            <div class="evento-status">
                                <span class="status-icon ${estadoClase}">‚óè</span>
                                <span>${estadoTexto}</span>
                            </div>
                            <button class="evento-action" data-id="${evento.id}">
                                Ver m√°s
                            </button>
                        </div>
                    `;
                    
                    // Agregar al grid
                    eventosGrid.appendChild(eventoEl);
                    
                    // Bot√≥n para ver detalles
                    const verMasBtn = eventoEl.querySelector('.evento-action');
                    verMasBtn.addEventListener('click', function() {
                        mostrarDetallesEvento(evento.id);
                    });
                });
            }
            
            // Mostrar eventos de un d√≠a espec√≠fico en el modal
            function mostrarEventosDia(fecha) {
                const eventosDelDia = obtenerEventosPorFecha(fecha);
                
                if (eventosDelDia.length === 0) return;
                
                // Actualizar t√≠tulo
                diaModalTitle.textContent = `Eventos para el ${formatoFecha(fecha)}`;
                
                // Limpiar y llenar lista
                diaEventosLista.innerHTML = '';
                
                // Ordenar por hora
                eventosDelDia.sort((a, b) => {
                    return (a.horario || '').localeCompare(b.horario || '');
                });
                
                // Mostrar cada evento
                eventosDelDia.forEach(evento => {
                    const eventoEl = document.createElement('div');
                    eventoEl.className = `dia-evento-item ${evento.categoria}`;
                    
                    eventoEl.innerHTML = `
                        <div class="dia-evento-hora">
                            <span class="info-icon">‚è±Ô∏è</span>
                            ${evento.horario || 'Horario no especificado'}
                        </div>
                        <div class="dia-evento-titulo">
                            ${evento.titulo}
                            <span class="dia-evento-cat ${evento.categoria}">${capitalizarPrimera(evento.categoria)}</span>
                        </div>
                        <div class="dia-evento-ubicacion">
                            <span class="info-icon">üìç</span>
                            ${evento.ubicacion || evento.ubicaci√≥n || 'Ubicaci√≥n por definir'}
                        </div>
                    `;
                    
                    // Evento click para ver detalles
                    eventoEl.addEventListener('click', function() {
                        mostrarDetallesEvento(evento.id);
                        cerrarModalDia();
                    });
                    
                    diaEventosLista.appendChild(eventoEl);
                });
                
                // Mostrar modal
                diaModal.style.display = 'flex';
                document.body.style.overflow = 'hidden';
            }
            
            // Mostrar detalles de un evento espec√≠fico
            function mostrarDetallesEvento(eventoId) {
                const evento = allEventos.find(e => e.id == eventoId);
                
                if (!evento) {
                    console.error('Evento no encontrado:', eventoId);
                    return;
                }
                
                // Actualizar t√≠tulo y subt√≠tulo
                eventoModalTitle.textContent = evento.titulo;
                eventoModalSubtitle.textContent = `${capitalizarPrimera(evento.categoria)} ‚Ä¢ ${evento.duracion || 'Duraci√≥n variable'}`;
                
                // Informaci√≥n detallada
                eventoModalInfo.innerHTML = `
                    <div class="info-item">
                        <div class="info-label">Fecha de inicio</div>
                        <div class="info-value">
                            <span class="info-icon">üìÖ</span>
                            <span>${formatoFecha(evento.fechaInicioObj)}</span>
                        </div>
                    </div>
                    ${evento.fechaFinObj && !esMismaFecha(evento.fechaInicioObj, evento.fechaFinObj) ? `
                    <div class="info-item">
                        <div class="info-label">Fecha de finalizaci√≥n</div>
                        <div class="info-value">
                            <span class="info-icon">üìÖ</span>
                            <span>${formatoFecha(evento.fechaFinObj)}</span>
                        </div>
                    </div>
                    ` : ''}
                    <div class="info-item">
                        <div class="info-label">Horario</div>
                        <div class="info-value">
                            <span class="info-icon">‚è±Ô∏è</span>
                            <span>${evento.horario || 'Por definir'}</span>
                        </div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Ubicaci√≥n</div>
                        <div class="info-value">
                            <span class="info-icon">üìç</span>
                            <span>${evento.ubicacion || evento.ubicaci√≥n || 'Por definir'}</span>
                        </div>
                    </div>
                    ${evento.modalidad ? `
                    <div class="info-item">
                        <div class="info-label">Modalidad</div>
                        <div class="info-value">
                            <span class="info-icon">${evento.modalidad === 'Presencial' ? 'üè¢' : 'üíª'}</span>
                            <span>${evento.modalidad}</span>
                        </div>
                    </div>
                    ` : ''}
                    ${evento.facilidades ? `
                    <div class="info-item">
                        <div class="info-label">Facilidades especiales</div>
                        <div class="info-value">
                            <span class="info-icon">‚úÖ</span>
                            <span>${evento.facilidades}</span>
                        </div>
                    </div>
                    ` : ''}
                `;
                
                // Descripci√≥n
                eventoModalDescription.textContent = evento.descripcion || 'No hay descripci√≥n disponible.';
                
                // Estado de disponibilidad
                let estadoClase = 'status-available';
                let estadoTexto = 'Cupos disponibles';
                
                if (evento.estado === 'limitado') {
                    estadoClase = 'status-limited';
                    estadoTexto = 'Pocos cupos disponibles';
                } else if (evento.estado === 'lleno') {
                    estadoClase = 'status-full';
                    estadoTexto = 'Sin cupos disponibles';
                }
                
                eventoModalStatus.innerHTML = `
                    <span class="status-icon ${estadoClase}">‚óè</span>
                    <span>${estadoTexto}</span>
                `;
                
                // Bot√≥n de acci√≥n
                eventoModalAction.href = evento.urlRegistro || '#';
                eventoModalAction.textContent = 'Inscribirme';
                
                if (!evento.urlRegistro) {
                    eventoModalAction.style.display = 'none';
                } else {
                    eventoModalAction.style.display = 'inline-block';
                    
                    if (evento.estado === 'lleno') {
                        eventoModalAction.classList.add('disabled');
                        eventoModalAction.textContent = 'Sin cupos disponibles';
                    } else {
                        eventoModalAction.classList.remove('disabled');
                    }
                }
                
                // Mostrar modal
                eventoModal.style.display = 'flex';
                document.body.style.overflow = 'hidden';
            }
            
            // Filtrar eventos seg√∫n categor√≠a y b√∫squeda
            function filtrarEventos() {
                // Comenzar con todos los eventos
                filteredEventos = [...allEventos];
                
                // Filtrar por categor√≠a
                if (categoriaSeleccionada !== 'todos') {
                    filteredEventos = filteredEventos.filter(evento => 
                        evento.categoria === categoriaSeleccionada
                    );
                }
                
                // Filtrar por b√∫squeda
                if (searchQuery) {
                    const query = searchQuery.toLowerCase();
                    filteredEventos = filteredEventos.filter(evento => 
                        evento.titulo.toLowerCase().includes(query) ||
                        (evento.descripcion && evento.descripcion.toLowerCase().includes(query)) ||
                        (evento.ubicacion && evento.ubicacion.toLowerCase().includes(query)) ||
                        (evento.ubicaci√≥n && evento.ubicaci√≥n.toLowerCase().includes(query)) ||
                        (evento.modalidad && evento.modalidad.toLowerCase().includes(query))
                    );
                }
                
                // Actualizar calendario para reflejar los filtros
                generarCalendario();
            }
            
            // Funci√≥n para limpiar la selecci√≥n del d√≠a
            function limpiarSeleccionDia() {
                const diaSeleccionadoEl = document.querySelector('.dia-container.seleccionado');
                if (diaSeleccionadoEl) {
                    diaSeleccionadoEl.classList.remove('seleccionado');
                }
                
                diaSeleccionado = null;
                mostrarEventos();
            }
            
            // Funci√≥n para ir al mes anterior
            function mesAnterior() {
                mesActual--;
                if (mesActual < 0) {
                    mesActual = 11;
                    anioActual--;
                }
                actualizarMesActual();
                generarCalendario();
            }
            
            // Funci√≥n para ir al mes siguiente
            function mesSiguiente() {
                mesActual++;
                if (mesActual > 11) {
                    mesActual = 0;
                    anioActual++;
                }
                actualizarMesActual();
                generarCalendario();
            }
            
            // Funci√≥n para ir a hoy
            function irAHoy() {
                const hoy = new Date();
                anioActual = hoy.getFullYear();
                mesActual = hoy.getMonth();
                
                actualizarMesActual();
                generarCalendario();
                
                // Verificar si hay eventos hoy
                const eventosHoy = obtenerEventosPorFecha(hoy);
                if (eventosHoy.length > 0) {
                    seleccionarDia(hoy);
                    mostrarEventosDia(hoy);
                } else {
                    // Si no hay eventos hoy, limpiar selecci√≥n
                    limpiarSeleccionDia();
                }
            }
            
            // Funci√≥n para cambiar la vista
            function cambiarVista(vista) {
                vistaActual = vista;
                
                // Actualizar botones de vista
                vistaBtns.forEach(btn => {
                    btn.classList.toggle('active', btn.getAttribute('data-vista') === vista);
                });
                
                // Actualizar visibilidad de las secciones
                if (vista === 'calendario') {
                    calendarioContainer.style.display = 'block';
                    eventosListContainer.style.display = 'none';
                    document.body.classList.add('vista-compacta');
                } else if (vista === 'eventos') {
                    calendarioContainer.style.display = 'none';
                    eventosListContainer.style.display = 'block';
                    document.body.classList.add('vista-compacta');
                    limpiarSeleccionDia(); // Al mostrar solo eventos, limpiar selecci√≥n de d√≠a
                } else { // combinada
                    calendarioContainer.style.display = 'block';
                    eventosListContainer.style.display = 'block';
                    document.body.classList.remove('vista-compacta');
                }
            }
            
            // Funci√≥n para cerrar modales
            function cerrarModalEvento() {
                eventoModal.style.display = 'none';
                document.body.style.overflow = 'auto';
            }
            
            function cerrarModalDia() {
                diaModal.style.display = 'none';
                document.body.style.overflow = 'auto';
            }
            
            // Funciones de utilidad
            function truncarTexto(texto, maxLongitud) {
                if (!texto) return 'Sin descripci√≥n disponible';
                if (texto.length <= maxLongitud) return texto;
                return texto.substring(0, maxLongitud) + '...';
            }
            
            function capitalizarPrimera(texto) {
                if (!texto) return '';
                return texto.charAt(0).toUpperCase() + texto.slice(1);
            }
            
            // Event Listeners
            
            // Navegaci√≥n de meses
            mesAnteriorBtn.addEventListener('click', mesAnterior);
            mesSiguienteBtn.addEventListener('click', mesSiguiente);
            hoyBtn.addEventListener('click', irAHoy);
            
            // Filtros de categor√≠a
            categoriasContainer.addEventListener('click', function(e) {
                const categoriaEl = e.target.closest('.categoria-tag');
                if (!categoriaEl) return;
                
                // Actualizar categor√≠a seleccionada
                categoriaSeleccionada = categoriaEl.getAttribute('data-categoria');
                
                // Actualizar UI
                document.querySelectorAll('.categoria-tag').forEach(tag => {
                    tag.classList.toggle('active', tag === categoriaEl);
                });
                
                // Aplicar filtros
                filtrarEventos();
                mostrarEventos();
            });
            
            // B√∫squeda
            searchInput.addEventListener('input', function() {
                searchQuery = this.value.trim();
                filtrarEventos();
                mostrarEventos();
            });
            
            // Tambi√©n buscar al presionar Enter
            searchInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    searchQuery = this.value.trim();
                    filtrarEventos();
                    mostrarEventos();
                }
            });
            
            // Cambio de vista
            vistaBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    cambiarVista(this.getAttribute('data-vista'));
                });
            });
            
            // Modales
            eventoModalClose.addEventListener('click', cerrarModalEvento);
            diaModalClose.addEventListener('click', cerrarModalDia);
            
            eventoModal.addEventListener('click', function(e) {
                if (e.target === eventoModal) cerrarModalEvento();
            });
            
            diaModal.addEventListener('click', function(e) {
                if (e.target === diaModal) cerrarModalDia();
            });
            
            // Tecla ESC para cerrar modales
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    cerrarModalEvento();
                    cerrarModalDia();
                }
            });
            
            // Inicializar
            cargarEventos();
        });
    </script>
</body>
</html>
